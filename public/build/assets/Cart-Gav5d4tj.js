import{r as n,j as e,a as j,y as p}from"./app-Y8fBfMZs.js";import{F as w}from"./FrontpageLayout-CHDCaxRV.js";import{b}from"./index-CAKqQOEl.js";import{H as i}from"./Harga-G0ikm7Bp.js";import{b as v}from"./index-HHHjHxmM.js";import{I as y}from"./Image-DfaaPNVt.js";import{B as C}from"./Breadcrumbs-DZLgd_Jj.js";import{C as B}from"./Checkbox-CNQveSpx.js";import{I as P}from"./MenuItem-DnDX5PU7.js";import{B as I}from"./iconBase-DK_xsFNO.js";import"./Menu-CQMxSYT2.js";import"./Modal-HlqBTzN1.js";import"./ownerWindow-1SRb00m4.js";import"./useSlotProps-CAAdliou.js";import"./debounce-Be36O1Ab.js";import"./index-DEiiZAl_.js";import"./index-NoXDXgi4.js";import"./index-DFMUMDAf.js";import"./logo-edu-test-market-T3xA_ChN.js";import"./createSvgIcon-WjNjJaoi.js";import"./Typography-Bn1kZTH6.js";import"./SwitchBase-Cn5PiAKs.js";import"./useFormControl-BM4KQ2Ov.js";import"./useControlled-Bfflip85.js";const Z=({auth:f,cartitem:c,base_url:d})=>{let r=c;const[m,u]=n.useState(Array(r.length).fill(!1)),[l,x]=n.useState([]),g=(s,t)=>{const a=[...m];if(a[t]=s.target.checked,u(a),s.target.checked){const o=[...l,r[t]];x(o),console.log("Added Product: ",r[t])}else{const o=l.filter(k=>k.id!==r[t].id);x(o),console.log("Removed Product: ",r[t])}};n.useEffect(()=>{console.log("Selected Products: ",l)},[l]);const N=l.length,h=l.reduce((s,t)=>s+Number(t.paketsoal.price),0);return e.jsx(w,{user:f,cart:c,base_url:d,children:e.jsxs("div",{className:"container max-w-5xl mt-9",children:[e.jsxs(C,{separator:e.jsx(b,{}),children:[e.jsx(j,{href:"/",children:"Home"}),e.jsx(j,{children:"Keranjang Belanja"})]}),e.jsx("h1",{className:"mt-4 font-bold text-secondary text-xl",children:"Keranjang Belanja"}),e.jsxs("div",{className:"flex flex-row w-full gap-x-3 items-stretch mt-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between shadow-md bg-white px-5 py-2 rounded-md",children:[e.jsx("h2",{children:"Produk"}),e.jsxs("ul",{className:"flex gap-7",children:[e.jsx("li",{children:"Harga"}),e.jsx("li",{children:"Aksi"})]})]}),c.map((s,t)=>e.jsxs("div",{className:"flex mt-2 justify-between shadow-md bg-white px-5 py-2 rounded-md",children:[e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx(B,{checked:m[t],onChange:a=>g(a,t)}),e.jsxs("div",{className:"flex flex-row justify-center items-center gap-3",children:[e.jsx(y,{className:"rounded-md w-20 h-20",src:`${d}/storage/${s.paketsoal.link_cover}`}),e.jsx("h2",{children:s.paketsoal.name})]})]}),e.jsxs("ul",{className:"flex gap-7 justify-center items-center",children:[e.jsx("li",{children:e.jsx(i,{nilai:s.paketsoal.price})}),e.jsx("li",{children:e.jsx(P,{onClick:a=>{a.preventDefault(),p.post(`/cartitem/delete/${s.id}`,{_method:"delete"})},children:e.jsx(v,{})})})]})]},s.id))]}),e.jsx("div",{className:"rounded-md min-w-56",children:e.jsxs("div",{className:"bg-white rounded-md p-4 shadow-md",children:[e.jsx("h1",{className:"font-semibold",children:"Rincian Belanja"}),e.jsx("ul",{children:l.map((s,t)=>e.jsxs("ul",{className:"flex justify-between text-wrap gap-x-3",children:[e.jsx("li",{children:s.paketsoal.name}),e.jsx("li",{children:e.jsx(i,{nilai:s.paketsoal.price})})]},t))}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("ul",{className:"flex justify-between",children:[e.jsx("li",{children:"Kuantitas"}),e.jsx("li",{children:N})]}),e.jsxs("ul",{className:"flex justify-between",children:[e.jsx("li",{children:"Total Belanja"}),e.jsx("li",{children:e.jsx(i,{nilai:h})})]}),e.jsx("hr",{}),e.jsxs("ul",{className:"flex justify-between mt-2",children:[e.jsx("li",{className:"font-bold ",children:"Total Belanja"}),e.jsx("li",{children:e.jsx(i,{nilai:h})})]})]}),e.jsx("div",{className:"flex items-center w-full justify-center mt-4",children:e.jsx(I,{variant:"contained",sx:{textTransform:"capitalize"},onClick:s=>{s.preventDefault(),p.post("/checkout",{_method:"get",orderitem:l})},children:"Checkout"})})]})})]})]})})};export{Z as default};
