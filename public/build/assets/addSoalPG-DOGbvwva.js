import{r as a,j as e,a as g,y as D}from"./app-Y8fBfMZs.js";import{S as $,H}from"./index-tWi1DKgk.js";import{b as J}from"./index-CAKqQOEl.js";import{E as p}from"./Editor-DVMIolCA.js";import{G as L,B as b}from"./iconBase-DK_xsFNO.js";import{I as o}from"./InputError-rnu4anrE.js";import{J as v,T as R}from"./index-VgBGwfeL.js";import{B as q}from"./Breadcrumbs-DZLgd_Jj.js";import{A as S}from"./Autocomplete-B5aviKC8.js";import{T as d}from"./TextField-BnqsF6By.js";import{M as h,I as F}from"./MenuItem-DnDX5PU7.js";import"./logo-edu-test-market-T3xA_ChN.js";import"./index-HHHjHxmM.js";import"./isEqual-pCLaa_SP.js";import"./createSvgIcon-WjNjJaoi.js";import"./Typography-Bn1kZTH6.js";import"./useSlotProps-CAAdliou.js";import"./index-DEiiZAl_.js";import"./Chip-CdGu1IYc.js";import"./ownerWindow-1SRb00m4.js";import"./Modal-HlqBTzN1.js";import"./Menu-CQMxSYT2.js";import"./debounce-Be36O1Ab.js";import"./useId-CD70gIem.js";import"./useControlled-Bfflip85.js";import"./FormControl-XM3Zm5CH.js";import"./useFormControl-BM4KQ2Ov.js";import"./isMuiElement-CM5X0VDR.js";function K(m){return L({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 3c-4.963 0-9 4.038-9 9s4.037 9 9 9 9-4.038 9-9-4.037-9-9-9zm0 16c-3.859 0-7-3.14-7-7s3.141-7 7-7 7 3.14 7 7-3.141 7-7 7zM12.707 12l2.646-2.646c.194-.194.194-.512 0-.707-.195-.194-.513-.194-.707 0l-2.646 2.646-2.646-2.647c-.195-.194-.513-.194-.707 0-.195.195-.195.513 0 .707l2.646 2.647-2.646 2.646c-.195.195-.195.513 0 .707.097.098.225.147.353.147s.256-.049.354-.146l2.646-2.647 2.646 2.646c.098.098.226.147.354.147s.256-.049.354-.146c.194-.194.194-.512 0-.707l-2.647-2.647z"},child:[]}]})(m)}const Se=({tipetest:m,paketsoal:N,errors:l,flash:n})=>{const[w,T]=a.useState(null),[C,y]=a.useState(null),[I,P]=a.useState(null),[k,_]=a.useState(null),[u,B]=a.useState(""),[i,x]=a.useState([{choice_text:"",points:0,alias:0}]),[f,E]=a.useState(""),[G,M]=a.useState(null),O=s=>{s.preventDefault(),D.post("/admin/storsoal",{_method:"post",soal:u,choices:i,pembahasan:f,idpaketsoal:I,idtipetest:k,tipesoal:G})};a.useEffect(()=>{n.message!=null&&(n.message.success?v.success(n.message.success):n.message.error&&v.error(n.message.error))},[n]);const z=()=>{x([...i,{choice_text:"",points:0,alias:i.length>0?i[i.length-1].alias+1:0}])},j=(s,t,c)=>{const r=[...i];r[s][t]=c,x(r)},A=s=>{const t=i.filter((c,r)=>r!==s);x(t)};return e.jsxs("section",{className:"main flex",children:[e.jsx("div",{className:"sidebarWrapper w-[15%]",children:e.jsx($,{tab:1})}),e.jsx(R,{position:"top-right",richColors:!0}),e.jsxs("div",{className:"content-right w-[85%] px-3",children:[e.jsx(H,{}),e.jsx("div",{className:"space"}),e.jsxs(q,{separator:e.jsx(J,{}),"aria-label":"breadcrumb",children:[e.jsx(g,{href:"/admin/daftarsoal",className:"text-blue-600",children:"Daftar Soal"}),e.jsx(g,{children:"Add Soal PG"})]}),e.jsxs("form",{onSubmit:O,className:"flex w-full gap-y-3 flex-col mt-3",children:[e.jsxs("div",{className:"flex w-full gap-y-3 flex-col bg-white rounded-md p-4",children:[e.jsx("h2",{className:"text-secondary font-bold text-xl ",children:"Informasi Soal"}),e.jsx(S,{id:"paket_soal",value:w,options:N,getOptionLabel:s=>s.name,onChange:(s,t)=>{T(t),P(t.id)},renderInput:s=>e.jsx(d,{...s,label:"Paket Soal"})}),e.jsx(o,{message:l.idpaketsoal}),e.jsx(S,{id:"tipe_test",value:C,options:m,getOptionLabel:s=>s.name,onChange:(s,t)=>{y(t),_(t.id)},renderInput:s=>e.jsx(d,{...s,label:"Tipe Test"})}),e.jsx(o,{message:l.idtipetest}),e.jsxs(d,{id:"tipesoal",select:!0,label:"Tipe Soal",helperText:"Pilih Tipe Soal",onChange:(s,t)=>{M(s.target.value)},children:[e.jsx(h,{value:"pg",children:"Pilihan Ganda"}),e.jsx(h,{value:"pgcomplex",children:"Pilihan Ganda Kompleks"}),e.jsx(h,{value:"bs",children:"Benar Salah"})]}),e.jsx(o,{message:l.tipesoal})]}),e.jsxs("div",{className:"flex w-full bg-white h-fit flex-col p-6 rounded-md shadow-md",children:[e.jsx("h2",{className:"text-secondary font-bold text-xl mb-3 ",children:"Soal"}),e.jsx(p,{value:u,onChange:B}),e.jsx(o,{message:l.soal})]}),e.jsx("div",{className:"flex w-full h-full gap-y-4 flex-col",children:i.map((s,t)=>e.jsxs("div",{className:"flex w-full bg-white h-fit flex-col p-6 rounded-md shadow-md",children:[e.jsxs("div",{className:"flex w-full flex-row justify-between",children:[e.jsx("h2",{className:"text-secondary font-bold text-xl mb-3 ",children:`Opsi ${String.fromCharCode(97+t)}`}),e.jsx(F,{onClick:()=>A(t),children:e.jsx(K,{className:"text-red-400"})})]}),e.jsxs("div",{className:"flex flex-col gap-y-3",children:[e.jsx(p,{value:s.choice_text,onChange:c=>{j(t,"choice_text",c)}}),e.jsx(o,{message:l[`choices.${t}.choice_text`]}),e.jsx(d,{id:"nilai",type:"text",label:"Nilai",required:!0,onChange:c=>j(t,"points",c.target.value),inputMode:"decimal",sx:{width:100}}),e.jsx(o,{message:l[`choices.${t}.points`]})]})]},t))}),e.jsx(o,{message:l.choices}),e.jsx("div",{className:"flex justify-center",children:e.jsx(b,{onClick:z,variant:"contained",sx:{textTransform:"capitalize"},children:"Tambahkan Opsi"})}),e.jsxs("div",{className:"flex w-full bg-white h-fit flex-col p-6 rounded-md shadow-md",children:[e.jsx("h2",{className:"text-secondary font-bold text-xl mb-3 ",children:"Pembahasan"}),e.jsx(p,{value:f,onChange:E}),e.jsx(o,{message:l.pembahasan})]}),e.jsx("div",{children:e.jsx(b,{type:"submit",sx:{textTransform:"capitalize"},variant:"contained",children:"Submit"})}),e.jsx("div",{className:"mb-24"})]})]})]})};export{Se as default};
